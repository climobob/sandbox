import os
import sys
import csv

delta_t_required = 5.0

fin = open("crn_full.txt","r")
tau_old = 0
t_old = 0
k = 0
count = 0
for line in fin:
  words = line.split() 
  tau = int(words[4])
  t   = float(words[8])
  if (k > 0 and abs(t - t_old) >= delta_t_required and t > -100 and t_old > -100):
    print(k,tau,t,t_old, t-t_old)
    count += 1
  k      += 1
  t_old   = t
  tau_old = tau

print("found ",count,"points with greater than a",delta_t_required,"C change in 5 miniutes out of",k,"examined")
print("ratio = ",count/k,"inverse ",k/count)

#03062 20210101 0005 20201231 1705      3 -106.52   35.86    -4.2     0.0      0 0   -13.4 C 0    48 0 -99.000 -9999.0  1246 0   1.64 0
#03062 20210101 0010 20201231 1710      3 -106.52   35.86    -4.4     0.0      0 0   -13.9 C 0    55 0 -99.000 -9999.0  1247 0   1.72 0
#03062 20210101 0015 20201231 1715      3 -106.52   35.86    -4.2     0.0      0 0   -13.7 C 0    54 0 -99.000 -9999.0  1241 0   1.82 0
#03062 20210101 0020 20201231 1720      3 -106.52   35.86    -4.5     0.0      0 0   -14.2 C 0    54 0 -99.000 -9999.0  1248 0   1.89 0
#03062 20210101 0025 20201231 1725      3 -106.52   35.86    -4.7     0.0      0 0   -14.0 C 0    55 0 -99.000 -9999.0  1246 0   1.99 0
#03062 20210101 0030 20201231 1730      3 -106.52   35.86    -4.7     0.0      0 0   -14.0 C 0    55 0 -99.000 -9999.0  1247 0   1.91 0
#03062 20210101 0035 20201231 1735      3 -106.52   35.86    -5.0     0.0      0 0   -13.7 C 0    55 0 -99.000 -9999.0  1247 0   1.87 0
#03062 20210101 0040 20201231 1740      3 -106.52   35.86    -5.0     0.0      0 0   -13.8 C 0    55 0 -99.000 -9999.0  1247 0   1.89 0
#03062 20210101 0045 20201231 1745      3 -106.52   35.86    -5.1     0.0      0 0   -14.2 C 0    55 0 -99.000 -9999.0  1247 0   1.53 0
##03062 20210101 0050 20201231 1750      3 -106.52   35.86    -5.2     0.0      0 0   -15.2 C 0    56 0 -99.000 -9999.0  1246 0   0.90 0
